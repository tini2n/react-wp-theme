(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1005:function(e,t,a){"use strict";t.__esModule=!0;var r=a(2),n=u(r),l=a(1006),s=u(l),o=u(a(1048)),i=u(a(1)),c=u(a(747));function u(e){return e&&e.__esModule?e:{default:e}}(0,l.registerLocale)("nb",o.default),(0,l.setDefaultLocale)("nb");var d=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));r.handleChangeStart=r.handleChangeStart.bind(r),r.handleChangeEnd=r.handleChangeEnd.bind(r),r.handleFilter=r.handleFilter.bind(r),r.handleClear=r.handleClear.bind(r);var n=c.default.parse(location.search).after,l=c.default.parse(location.search).before,s=n?new Date(n):new Date,o=l?new Date(l):new Date;return r.state={startDate:s,endDate:o,query:c.default.parse(location.search)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleChangeStart=function(e){e>this.state.endDate?this.setState({startDate:e,endDate:e}):this.setState({startDate:e})},t.prototype.handleChangeEnd=function(e){e<this.state.startDate?this.setState({startDate:e,endDate:e}):this.setState({endDate:e})},t.prototype.handleFilter=function(){var e=this.state,t=e.startDate,a=e.endDate,r=this.props.history,n=c.default.parse(location.search);n.before=(0,i.default)(a).format("YYYY-MM-DD"),n.after=(0,i.default)(t).format("YYYY-MM-DD"),r.push("?"+c.default.stringify(n))},t.prototype.handleClear=function(){var e=this.state.query,t=this.props.history;this.setState({startDate:new Date,endDate:new Date});var a=e;delete a.after,delete a.before,delete a.cat_name,delete a.post_type,t.push("?"+c.default.stringify(a))},t.prototype.render=function(){var e=this.state,t=e.startDate,a=e.endDate;return n.default.createElement("div",{className:"date-filter"},n.default.createElement("span",{className:"title"},"filtrer etter periode"),n.default.createElement("div",{className:"datepicker"},n.default.createElement(s.default,{dateFormat:"dd/MM/yyyy",selected:t,startDate:t,endDate:a,selectsStart:!0,onChange:this.handleChangeStart}),n.default.createElement(s.default,{dateFormat:"dd/MM/yyyy",selected:a,startDate:t,endDate:a,selectsEnd:!0,onChange:this.handleChangeEnd})),n.default.createElement("div",{className:"buttons-container"},n.default.createElement("button",{className:"clear",onClick:this.handleClear},"fjern alle filtre"),n.default.createElement("button",{className:"submit",onClick:this.handleFilter},"filter")))},t}(r.Component);t.default=d},995:function(e,t,a){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=_(n),s=a(65),o=a(163),i=_(a(747)),c=a(371),u=a(112),d=a(48),f=a(108),p=_(a(996)),h=_(a(998)),m=_(a(1005)),y=_(a(729)),b=_(a(360));function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return r.submitHandler=r.submitHandler.bind(r),r.changeHandler=r.changeHandler.bind(r),r.clearHandler=r.clearHandler.bind(r),r.filterContainer=l.default.createRef(),r.state={query:i.default.parse(location.search).s},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submitHandler=function(e){e.preventDefault();var t=this.props.history,a=this.state.query,r=i.default.parse(location.search);r.s=a,t.push("?"+i.default.stringify(r))},t.prototype.changeHandler=function(e){this.setState({query:e.target.value})},t.prototype.clearHandler=function(){var e=this.props.history;this.setState({query:""}),e.push("?s=")},t.prototype.componentDidMount=function(){this.filterContainer.style.height=document.querySelector(".category-filter").offsetHeight+document.querySelector(".date-filter").offsetHeight+200+"px"},t.prototype.render=function(){var e=this,t=this.state.query,a=this.props,n=a.main,s=a.posts_by_ids,o=a.categories_by_ids,c=a.history,u=this.props,d=u.fetchPosts,_=u.fetchSearchItemsIds,g=n.items,E=void 0===g?[]:g,v=(0,f.formPostsArray)(s,E),w=Object.keys(s),D=i.default.parse(location.search),S=D.after,C=D.before,N=D.cat_name,H={offset:8,amount:8},O=r({fetchIdsHandler:_,fetchPostsHandler:d,isSearch:!0},H,{category:N,after:S,before:C,postsIds:w}),M=!(v.length%H.amount)&&l.default.createElement(y.default,O);return l.default.createElement("section",{className:"results-page"},l.default.createElement("div",{className:"wrapper"},l.default.createElement("div",{className:"grid-container"},l.default.createElement("div",{className:"grid-4-6"},l.default.createElement("div",{className:"search-title"},l.default.createElement("label",{htmlFor:"results-search"},"Søkeresultater for:"),l.default.createElement("form",{onSubmit:this.submitHandler},l.default.createElement("input",{type:"search",id:"results-search",value:t,onChange:this.changeHandler})),l.default.createElement("span",{className:"clear",onClick:this.clearHandler},l.default.createElement(b.default,null))),l.default.createElement(p.default,{results:v,categories:o}),M),l.default.createElement("div",{className:"grid-2-6",ref:function(t){return e.filterContainer=t}},l.default.createElement(h.default,{categories:o,history:c}),l.default.createElement(m.default,{history:c})))))},t}(n.Component);t.default=(0,s.withRouter)((0,o.connect)(function(e){return{main:e.main,posts_by_ids:e.posts_by_ids,categories_by_ids:e.categories_by_ids}},function(e){return{updateSearch:function(t){return e((0,c.updateSearch)(t))},fetchPosts:function(t){return e((0,u.fetchPosts)(t))},fetchSearchItemsIds:function(t,a){return e((0,d.fetchSearchItemsIds)(t,a))}}})(g))},996:function(e,t,a){"use strict";t.__esModule=!0;var r=l(a(2)),n=l(a(997));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.results,a=e.categories;return r.default.createElement("div",{className:"results-list"},t.map(function(e,t){return r.default.createElement(n.default,{key:t,item:e,category:a[e.main_category_id]})}))}},997:function(e,t,a){"use strict";t.__esModule=!0;var r=o(a(2)),n=o(a(739)),l=a(719),s=o(a(109));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.item,a=e.category,o=t.meta,i=t.title,c=t.link,u=t.publish_date,d=t.update_date;return r.default.createElement("div",{className:"result-item"},a&&r.default.createElement("div",{className:"category-line"},r.default.createElement("h4",{className:"category-label"},r.default.createElement(s.default,{to:a.url},a.title)),(0,n.default)(o,"is_paid_content",!1)&&r.default.createElement("span",{className:"plus-label"},"pluss")),(0,n.default)(o,"subtitle",!1)&&r.default.createElement("h3",{className:"subtitle"},r.default.createElement(s.default,{to:c},o.subtitle)),r.default.createElement("h2",{className:"title"},r.default.createElement(s.default,{to:c},i)),u&&r.default.createElement("div",{className:"dateline"},r.default.createElement("time",{className:"published",dateTime:(0,l.toISO)(u)},(0,l.toHumanShortDate)(u)),d!=u&&d&&r.default.createElement("time",{className:"updated",dateTime:(0,l.toISO)(d)},"Oppdatert: ",(0,l.toHumanShortDate)(d))))}},998:function(e,t,a){"use strict";t.__esModule=!0;var r=a(2),n=i(r),l=i(a(747)),s=i(a(999)),o=i(a(827));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return r.filterHandler=r.filterHandler.bind(r),r.state={query:l.default.parse(location.search)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.filterHandler=function(e){var t=this.props.history,a=l.default.parse(location.search),r=e.target.checked,n=a.cat_name?a.cat_name.split(","):[];"tv"===e.target.name?a.post_type=r?e.target.name:"":(r?n.push(e.target.name):(0,s.default)(n,function(t){return t===e.target.name}),a.cat_name=n.join(",")),a.cat_name||delete a.cat_name,a.post_type||delete a.post_type,t.push("?"+l.default.stringify(a))},t.prototype.render=function(){var e=this,t=this.props.categories,a=void 0===t?[]:t,r=l.default.parse(location.search),s=r.cat_name,i=void 0===s?"":s,c=r.post_type,u=void 0===c?"":c,d=Object.keys(a),f=i.split(",");return n.default.createElement("div",{className:"category-filter"},n.default.createElement("span",{className:"title"},"Filter på kategori"),d.map(function(t){var r=f.includes(a[t].slug);return n.default.createElement(o.default,{key:t,checked:r,handler:e.filterHandler,item:a[t]})}),n.default.createElement(o.default,{checked:"tv"===u,handler:this.filterHandler,item:{title:"tgn tv",name:"tv"}}))},t}(r.Component);t.default=c}}]);