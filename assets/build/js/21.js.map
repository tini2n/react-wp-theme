{"version":3,"sources":["webpack:///./assets/src/js/app/components/Ads.js","webpack:///./assets/src/js/app/components/partials/TemplateTitle.js","webpack:///./assets/src/js/app/containers/templates/Category.js"],"names":["Ad","isVisible","ad","size","isMobile","handleClick","window","dataLayer","imgSize","attrs","class","push","event","Ad_banner","id","url","image","Ads","props","bind","render","desk","Array","isArray","mob","Component","TemplateTitle","title","Category","categories_by_ids","posts_by_ids","main","fetchPostsIdsByCat","fetchPosts","articles","ads","current_object","slug","posts","categories","postsIds","Object","keys","loadMoreProps","fetchIdsHandler","fetchPostsHandler","offset","amount","postsType","isCategory","articlesPosts","slice","mapStateToProps","mapDispatchToProps","dispatch","ids"],"mappings":"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","file":"21.js","sourcesContent":["import React, { Component, Fragment } from 'react';\n\nimport TrackVisibility from 'react-on-screen';\nimport { isMobile } from 'react-device-detect';\n\nimport UniversalLink from 'components/UniversalLink';\nimport Thumbnail from 'components/Thumbnail';\n\nconst Ad = ({ isVisible, ad, size, isMobile, handleClick }) => {\n    const { dataLayer } = window;\n    const imgSize = size === 'wide' ? `wide-ad${isMobile ? '-mob' : ''}` : 'tall-ad';\n\n    const attrs = {\n        class: isMobile ? 'ad-mobile' : 'ad-desktop',\n        imgSize\n    };\n\n    if (isVisible) {\n        dataLayer.push({\n            event: 'AdBannerView',\n            Ad_banner: `site_banner_${ad.id}`\n        })\n    }\n\n    return (\n        <Fragment>\n            <div className={attrs.class} onClick={() => handleClick(ad.id)}>\n                <UniversalLink to={ad.url} target=\"_blank\">\n                    <Thumbnail size={attrs.imgSize} thumbnails={ad.image}/>\n                </UniversalLink>\n            </div>\n        </Fragment>\n    )\n};\n\nclass Ads extends Component {\n    constructor(props) {\n        super(props);\n\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleClick(id) {\n        const { dataLayer } = window;\n\n        dataLayer.push({\n            event: 'AdBannerClick',\n            Ad_banner: `site_banner_${id}`\n        })\n    }\n\n    render() {\n        const {\n            ad = {},\n            size,\n        } = this.props;\n\n        return (\n            <section className=\"ads-container\">\n                {ad.desk && !Array.isArray(ad.desk) && !isMobile &&\n                    <TrackVisibility once>\n                        <Ad ad={ad.desk} size={size} isMobile={false} handleClick={this.handleClick}/>\n                    </TrackVisibility>\n                }\n                {ad.desk && !Array.isArray(ad.desk) && isMobile &&\n                    <TrackVisibility once>\n                        <Ad ad={ad.mob} size={size} isMobile={true} handleClick={this.handleClick}/>\n                    </TrackVisibility>\n                }\n            </section>\n        )\n    }\n}\n\nexport default Ads;","import React from 'react';\n\nimport Link from 'components/InternalLink';\nimport ArrowIcon from 'icons/arrow-icon.svg';\n\nconst TemplateTitle = ({ title }) => (\n    <div className=\"template-title\">\n        <h1>{title}</h1>\n        <Link to=\"/\">{<ArrowIcon/>}tilbake til forsiden</Link>\n    </div>\n);\n\nexport default TemplateTitle;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { fetchPostsIdsByCat } from 'storage/actions/main';\nimport { fetchPosts } from 'storage/actions/posts';\n\nimport { formPostsArray, checkPostsIdsLength } from 'services/postsServices';\n\nimport Ads from 'components/Ads';\nimport TemplateTitle from 'components/partials/TemplateTitle';\nimport PostListingWide from 'components/post-listing/PostListingWide';\nimport PostListing from 'components/post-listing/PostListing';\nimport PostsList from 'components/post-listing/PostsList';\nimport LoadMore from 'components/LoadMore';\n\nclass Category extends Component {\n    render() {\n        const {\n            categories_by_ids,\n            posts_by_ids,\n            main,\n            fetchPostsIdsByCat,\n            fetchPosts\n        } = this.props;\n\n        const {\n            articles = [],\n            ads = [],\n            current_object\n        } = main;\n\n        const {\n            title,\n            slug,\n        } = current_object;\n\n        const posts = posts_by_ids;\n        const categories = categories_by_ids;\n        const postsIds = Object.keys(posts);\n\n        const loadMoreProps = {\n            fetchIdsHandler: fetchPostsIdsByCat,\n            fetchPostsHandler: fetchPosts,\n            offset: 21,\n            amount: 10,\n            postsType: 'article',\n            isCategory: true,\n            postsIds,\n            slug,\n        };\n\n        const articlesPosts = formPostsArray(posts, articles);\n\n        return (\n            <section className=\"category\">\n                <div className=\"wrapper\">\n                    <Ads ad={ads[0]}/>\n                    <TemplateTitle title={title}/>\n                    {checkPostsIdsLength(articles, 0, 3) &&\n                        <PostListingWide posts={articlesPosts.slice(0, 3)}\n                                         categories={categories} />}\n                    {checkPostsIdsLength(articles, 3, 5) &&\n                        <PostListing posts={articlesPosts.slice(3, 5)}\n                                     categories={categories}\n                                     size=\"m\" />}\n                    {checkPostsIdsLength(articles, 5, 8) &&\n                        <PostListing posts={articlesPosts.slice(5, 8)}\n                                     categories={categories}\n                                     size=\"s\"/>}\n                    <Ads ad={ads[1]}/>\n                    {checkPostsIdsLength(articles, 8, 11) &&\n                        <PostListingWide posts={articlesPosts.slice(8, 11)}\n                                         reversed\n                                         categories={categories}/>}\n                    {checkPostsIdsLength(articles, 11, 13) &&\n                        <PostListing posts={articlesPosts.slice(11, 13)}\n                                     categories={categories}\n                                     size=\"m\"/>}\n                    {checkPostsIdsLength(articles, 13, 16) &&\n                        <PostListing posts={articlesPosts.slice(13, 16)}\n                                     categories={categories}\n                                     size=\"s\"/>}\n                    {checkPostsIdsLength(articles, 16) &&\n                        <PostsList posts={articlesPosts.slice(16)}\n                                   categories={categories}/>}\n                    {checkPostsIdsLength(articles, 20) &&\n                        <LoadMore {...loadMoreProps}/>}\n                    <Ads ad={ads[2]}/>\n                </div>\n            </section>\n        )\n    }\n}\n\nconst mapStateToProps = ({ categories_by_ids, posts_by_ids, main }) => ({\n    categories_by_ids,\n    posts_by_ids,\n    main\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchPostsIdsByCat: (postsType, slug, amount, offset) => dispatch(fetchPostsIdsByCat(postsType, slug, amount, offset)),\n    fetchPosts: (ids) => dispatch(fetchPosts(ids))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Category);"],"sourceRoot":""}