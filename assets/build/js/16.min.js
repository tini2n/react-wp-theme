(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1058:function(e,t,a){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),l=d(r),o=d(a(55)),c=d(a(737)),i=d(a(748)),u=d(a(1059)),s=d(a(109));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.unique_slug,t=o.default.products.find(function(t){return t.unique_slug===e}),a={parentId:1,parentPage:{title:"TGN Pluss",link:o.default.routes.subscription},currentPage:{title:t.title}};return l.default.createElement("section",{className:"subscription"},l.default.createElement("div",{className:"wrapper-thin"},l.default.createElement("div",{className:"page-heading"},l.default.createElement(c.default,a),l.default.createElement(i.default,{title:"Abonnement"})),l.default.createElement("h2",{className:"subtitle"},t.title,l.default.createElement(s.default,{to:o.default.routes.subscription},"skift pakke")),l.default.createElement(u.default,n({},t,{uniqSlug:e}))))},t}(r.Component);t.default=p},1059:function(e,t,a){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),l=_(r),o=_(a(1060)),c=_(a(826)),i=_(a(358)),u=a(55),s=_(u),d=_(a(66)),p=_(a(109)),f=_(a(731)),h=_(a(1061)),m=_(a(1062)),y=_(a(1063)),v=_(a(1064)),g=_(a(1065)),b=_(a(1067)),E=_(a(1068));function _(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a)),r=n.props,o=r.month_price,c=r.enable_day_options;return n.capthcaSiteKey=s.default.recaptcha_key||"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",n.countries=s.default.countries,n.countriesSelectValues=[{value:"",label:"Land *",isDisabled:!0}].concat(Object.keys(n.countries).map(function(e){return{value:e,label:n.countries[e]}})),n.captcha=l.default.createRef(),n.errorsStrings={name:"Navnet du har oppgitt er ikke gyldig",surname:"Navnet du har oppgitt er ikke gyldig",address:"ADRESSEN DU HAR OPPGITT ER IKKE GYLDIG",postcode:"POSTNUMMERET DU HAR OPPGITT ER IKKE GYLDIG",city:"POSTSTEDET DU HAR OPPGITT ER IKKE GYLDIG",country:"LANDET DU HAR OPPGITT ER IKKE GYLDIG",email:"E-post adressen er ikke gyldig",type:"Velg ønsket abonnement",customer_service:"Vennligst godta abonnementsvilkårene for å fortsette",recaptcha:"Captcha mislyktes, vennligst prøv igjen"},c&&(n.errorsStrings.deliveryDay="Vennligst velg hvilken dag du ønsker å motta papirutgaven"),n.placeholders={datePicker:"Fødselsdato *"},n.initialState={isLoading:!1,errors:{name:"",surname:"",address:"",postcode:"",city:"",country_code:"",email:"",phone:"",type:"",customer_service:"",birthday:"",recaptcha:"",deliveryDay:""},data:{name:"",surname:"",address:"",postcode:"",city:"",country_code:"NO",email:"",phone:"",birthday:"",type:null,deliveryDay:null,customer_service:!1,may_contact:!1,recaptcha:null},product_id:n.props.product_id||"",product_code:n.props.product_code||"",deliveryDays:[{value:"tuesday",title:"Tirsdag",checked:!1},{value:"thursday",title:"Torsdag",checked:!1}],subscriptions:[{value:"month-sub",checked:!1,title:"Månedlig pris:",price:o,label:"Ingen bindingstid"}]},n.state=JSON.parse(JSON.stringify(n.initialState)),n.handleSubscriptionChange=n.handleSubscriptionChange.bind(n),n.handleDeliveryDayChange=n.handleDeliveryDayChange.bind(n),n.recaptchaChangeHandler=n.recaptchaChangeHandler.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleSelectChange=n.handleSelectChange.bind(n),n.handleDateChange=n.handleDateChange.bind(n),n.sendHandler=n.sendHandler.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleDateBlur=n.handleDateBlur.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleDeliveryDayChange=function(e){var t=n({},this.state.data),a=[].concat(this.state.deliveryDays),r=n({},this.state.errors),l=e.target.querySelector('[type="radio"]'),o=l.value;a.forEach(function(e){e.checked=!1,o===e.value&&(e.checked=!0,t.deliveryDay=o)});var c=l.dataset.product_option_id||this.state.product_option_id,i=l.dataset.product_option_code||this.state.product_option_code;r.deliveryDay="",this.setState({deliveryDays:a,data:t,product_id:c,product_code:i,errors:r})},t.prototype.handleSubscriptionChange=function(e){var t=n({},this.state.data),a=[].concat(this.state.subscriptions),r=n({},this.state.errors),l=e.target.querySelector('[type="radio"]').value;a.forEach(function(e){e.checked=!1,l===e.value&&(e.checked=!0,t.type=l)}),r.type="",this.setState({subscriptions:a,data:t,errors:r})},t.prototype.recaptchaChangeHandler=function(e){this.setState(n({},this.state,{data:n({},this.state.data,{recaptcha:e}),errors:n({},this.state.errors,{recaptcha:""})}))},t.prototype.handleInputChange=function(e){var t=n({},this.state.data),a=n({},this.state.errors),r=e.target,l=r.type,o=r.name,c="checkbox"===l?e.target.checked:e.target.value;t[o]=c,a[o]=c?"":this.errorsStrings[o],this.setState({data:t,errors:a})},t.prototype.handleSelectChange=function(e,t){var a=n({},this.state.data),r=n({},this.state.errors),l=e.value;a[t]=l,r[t]=l?"":this.errorsStrings[t],this.setState({data:a,errors:r})},t.prototype.validationHandle=function(){var e=this,t=JSON.parse(JSON.stringify(this.state)),a=Object.keys(t.data),n=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/,r=a.map(function(a){return t.errors[a]="email"===a?n.test(t.data[a])?"":e.errorsStrings[a]:"deliveryDay"===a?e.props.enable_day_options&&!t.data[a]?e.errorsStrings[a]:"":t.data[a]?"":e.errorsStrings[a],t.errors[a]});return this.setState(t),r.filter(function(e){return e})},t.prototype.handleDateBlur=function(e){e&&(e.target.placeholder=this.placeholders.datePicker)},t.prototype.handleDateChange=function(e){var t=n({},this.state.data),a=n({},this.state.errors);t.birthday=e,a.birthday="",this.setState({data:t,errors:a})},t.prototype.sendHandler=function(){var e=this,t=this.state.data,a=this.state,r=a.product_id,l=a.product_code,o=this.props,c=o.month_price,i=o.yearly_month_price,s=o.uniqSlug,p="month-sub"===t.type?c:i,f={"g-recaptcha-response":t.recaptcha,name:t.name,surname:t.surname,street:t.address,postal_code:t.postcode,postal_place:t.city,country_code:t.country_code,email:t.email,phone:t.phone,birthday:t.birthday,unique_slug:s,product_id:r,product_code:l,price:p,type:t.type,delivery_day:t.deliveryDay};this.setState(n({},this.initialState,{isLoading:!0})),d.default.post(""+u.apiUrl+u.apiEndpoints.subscriptionForm,f).then(function(t){e.setState(n({},e.initialState)),e.captcha.reset(),location.href=t.data}).catch(function(t){e.setState(n({},e.initialState)),e.captcha.reset(),console.log(t)})},t.prototype.handleSubmit=function(e){e.preventDefault(),this.validationHandle().length||this.sendHandler()},t.prototype.render=function(){var e=this,t=this.state,a=t.subscriptions,r=t.deliveryDays,u=t.data,s=t.errors,d=t.isLoading,_=this.props,k=_.enable_day_options,N=_.product_id_options,C=_.full_text;return l.default.createElement("div",{className:"subscription-form"},l.default.createElement("form",{onSubmit:this.handleSubmit},l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-1-3"},l.default.createElement("h4",null,"For deg på farten"),l.default.createElement(f.default,{withLogo:!0})),l.default.createElement("div",{className:"col-2-3"},l.default.createElement(y.default,{error:s.type},a.map(function(t,a){return l.default.createElement(h.default,n({key:a},t,{handleSubscriptionChange:e.handleSubscriptionChange}))})))),!!k&&l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-1-3"},l.default.createElement("h4",null,"Jeg ønsker å motta papirutgaven")),l.default.createElement("div",{className:"col-2-3"},l.default.createElement(y.default,{error:s.deliveryDay},r.map(function(t,a){return l.default.createElement(m.default,n({},t,N[a],{key:t.value,handleDeliveryDayChange:e.handleDeliveryDayChange}))})))),!!C&&l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-1-3"},l.default.createElement("h3",null,"Inkludert i pakken:")),l.default.createElement("div",{className:"col-2-3 product-description"},(0,i.default)(C))),l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-1-3"},l.default.createElement("h3",null,"dine opplysninger:")),l.default.createElement("div",{className:"col-2-3 "+(d?"loading":"")},l.default.createElement(y.default,{error:s.name},l.default.createElement(v.default,{value:u.name,inputType:"text",inputName:"name",placeholder:"fornavn *",changeHandler:this.handleInputChange})),l.default.createElement(y.default,{error:s.surname},l.default.createElement(v.default,{value:u.surname,inputType:"text",inputName:"surname",placeholder:"Etternavn *",changeHandler:this.handleInputChange})),l.default.createElement(y.default,{error:s.address},l.default.createElement(v.default,{value:u.address,inputType:"text",inputName:"address",placeholder:"Adresse *",changeHandler:this.handleInputChange})),l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-inner"},l.default.createElement(y.default,{error:s.postcode},l.default.createElement(v.default,{value:u.postcode,inputType:"number",inputName:"postcode",placeholder:"Postnummer *",changeHandler:this.handleInputChange}))),l.default.createElement("div",{className:"col-inner"},l.default.createElement(y.default,{error:s.city},l.default.createElement(v.default,{value:u.city,inputType:"text",inputName:"city",placeholder:"Poststed *",changeHandler:this.handleInputChange})))),l.default.createElement(y.default,{error:s.country_code},l.default.createElement(g.default,{values:this.countriesSelectValues,defaultValue:u.country_code,inputType:"text",inputName:"country_code",placeholder:"Land *",changeHandler:this.handleSelectChange})),l.default.createElement(y.default,{error:s.email},l.default.createElement(v.default,{value:u.email,inputType:"email",inputName:"email",placeholder:"e-post *",changeHandler:this.handleInputChange})),l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-inner"},l.default.createElement(y.default,{error:s.phone},l.default.createElement(v.default,{value:u.phone,inputType:"number",inputName:"phone",placeholder:"telefon",changeHandler:this.handleInputChange}))),l.default.createElement("div",{className:"col-inner"},l.default.createElement(y.default,null,l.default.createElement(o.default,{value:u.birthday,mask:[/[0-9]/,/[0-9]/,"/",/[0-9]/,/[0-9]/,"/",/[0-9]/,/[0-9]/,/[0-9]/,/[0-9]/],name:"birthday",type:"text",placeholder:"Fødselsdato *",onChange:this.handleInputChange}),l.default.createElement(E.default,{className:"calendar-icon"})))),l.default.createElement(y.default,{error:s.customer_service,isCheckboxContainer:!0},l.default.createElement(b.default,{checked:u.customer_service,checkboxName:"customer_service",changeHandler:this.handleInputChange},"Jeg godtar"," ",l.default.createElement(p.default,{to:"/abonnementsvilkar/",target:"_blank"},"abonnementsvilkårene"))),l.default.createElement(y.default,{error:s.may_contact,isCheckboxContainer:!0},l.default.createElement(b.default,{checked:u.may_contact,checkboxName:"may_contact",changeHandler:this.handleInputChange},"Jeg godtar at TGN kontakter meg med relevante tilbud")),l.default.createElement(y.default,{error:s.recaptcha},l.default.createElement(c.default,{sitekey:this.capthcaSiteKey,ref:function(t){return e.captcha=t},onChange:this.recaptchaChangeHandler})),l.default.createElement("button",{type:"submit",className:"submit"},"Fullfør kjøp med betalingskort")))))},t}(r.Component);t.default=k},1061:function(e,t,a){"use strict";t.__esModule=!0;var n,r=a(2),l=(n=r)&&n.__esModule?n:{default:n};var o=function(e){function t(a){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.price,n=e.label,r=e.checked,o=e.value,c=e.handleSubscriptionChange;return l.default.createElement("div",{className:"subscription-item "+(r?"active":""),onClick:c},l.default.createElement("div",{className:"text-container"},l.default.createElement("p",null,t),l.default.createElement("span",{className:"price"},"Kr ",l.default.createElement("strong",null,a)," / mnd"),l.default.createElement("i",null,n)),l.default.createElement("div",{className:"radio"},l.default.createElement("input",{type:"radio",value:o,checked:r,readOnly:!0,name:"subscriptions"}),l.default.createElement("span",null)))},t}(r.Component);t.default=o},1062:function(e,t,a){"use strict";t.__esModule=!0;var n,r=a(2),l=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.title,a=e.value,n=e.checked,r=e.product_option_id,o=e.product_option_code,c=e.handleDeliveryDayChange;return l.default.createElement("div",{className:"subscription-item delivery "+(n?"active":""),onClick:c},l.default.createElement("div",{className:"text-container"},l.default.createElement("p",null,t)),l.default.createElement("div",{className:"radio"},l.default.createElement("input",{type:"radio","data-product_option_id":r,"data-product_option_code":o,value:a,checked:n,readOnly:!0,name:"delivery-day"}),l.default.createElement("span",null)))}},1063:function(e,t,a){"use strict";t.__esModule=!0;var n,r=a(2),l=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.error,a=e.isCheckboxContainer,n=e.children;return l.default.createElement("div",{className:(a?"checkbox-item":"input-item")+" "+(t?"error":"")},n,t&&l.default.createElement("p",{className:"error-msg"},t))}},1064:function(e,t,a){"use strict";t.__esModule=!0;var n,r=a(2),l=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.value,a=e.inputType,n=e.inputName,r=e.changeHandler,o=e.placeholder;return l.default.createElement("input",{type:a,name:n,value:t,placeholder:o,onChange:r})}},1065:function(e,t,a){"use strict";t.__esModule=!0;var n=o(a(2)),r=o(a(1066)),l=o(a(769));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(function(e){var t=e.values,a=void 0===t?{}:t,r=e.defaultValue,o=void 0===r?"":r,c=e.inputType,i=e.inputName,u=e.changeHandler,s=e.selectLib,d=s&&s.default;return d?n.default.createElement(d,{className:"react-select-container",classNamePrefix:"react-select",options:a,onChange:function(e){u(e,i)},type:c,defaultValue:a[a.findIndex(function(e){return e.value===o})]}):n.default.createElement(l.default,{height:40},n.default.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"520",height:"50"}))})},1066:function(e,t,a){"use strict";t.__esModule=!0;var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(2),o=(n=l)&&n.__esModule?n:{default:n};t.default=function(e){return function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,e));return a.state={selectLib:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){var e=this;a.e(18).then(a.bind(null,1071)).then(function(t){e.setState({selectLib:t})})},n.prototype.render=function(){return o.default.createElement(e,r({selectLib:this.state.selectLib},this.props))},n}(l.Component)}},1067:function(e,t,a){"use strict";t.__esModule=!0;var n,r=a(2),l=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.children,a=e.checked,n=e.checkboxName,r=e.changeHandler;return l.default.createElement("label",null,t,l.default.createElement("input",{type:"checkbox",name:n,checked:a,onChange:r}),l.default.createElement("span",null))}},1068:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var o=r.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 8V4h2v2h2V4h3v2h2V4h3v2h2V4h2v4H2zm0 10h16v-8H2v8zM16 2V0h-2v2h-3V0H9v2H6V0H4v2H0v18h20V2h-4z"});t.default=function(e){return r.a.createElement("svg",l({width:20,height:20},e),o)}}}]);